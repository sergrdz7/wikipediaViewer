<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Wiki Viewer</title>
    <!-- Jquery -->
    <script type="text/javascript" src="jquery-3.1.0.min.js"></script>  
    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
      
    <!-- wikepediaViewer css -->
    <link href="wikipediaViewer.css" rel="stylesheet">  
  </head>
    
    
  <body>
    
    <div class="container">
        <div id="searchContainer">
            <h1>What's up?</h1>  
               
            <form>
                <input class= "from-control" id="input" type="text" name="search" placeholder="Looking for something...">
                <button id="searchButton" type="button" class="btn">Search</button>
<!--                <img id="searchImg" alt="search" src="search-icon.png" width="65" height="60">-->
            </form>
            
            <ul id="output">
            </ul>
            
        </div> 
    </div>
    
    <script type="text/javascript">
    //Not using this function for now
    //$("#input").hide();    
    $("#searchImg").click(function(){
        //$("#input").toggle("slow");
        $("#input").toggle("slow");
        //this.toggle(); 
    });
        
    $("#searchButton").on("click", function(){
        var searchInput = $("#input").val();
        var url = "https://en.wikipedia.org/w/api.php?action=opensearch&search=" + searchInput + "&format=json&callback=?";
        //console.log(searchInput);
    
    $.ajax({
       type: "GET",
        url: url, 
        async: false,
        dataType: "json",
        success: function(data){
            console.log(data[1][0]); 
            console.log(data[2][0]); 
            console.log(data[3][0]);
//            var heading = data[1][0];
//            var description= data[2][0];
//            var link = data[3][0];
            for (var i=0; i<data[1].length; i++){
            $("#output").prepend("<li><a href = "+ data[3][i] +">"+ data[1][i] + "</a><p>"+ data[2][i] +"</p></li>");
            }
        },
        error: function(errorMessage){
            alert("Error");
        }
    });
        
        
    });
         
        
    </script>  
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<!--    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>-->
<!--     Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
  </body>
</html>
